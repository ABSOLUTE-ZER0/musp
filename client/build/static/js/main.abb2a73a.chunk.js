(this["webpackJsonpstudent-portal-ui"]=this["webpackJsonpstudent-portal-ui"]||[]).push([[0],{50:function(e,t,a){},70:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),o=(a(49),a(50),a(3)),i=a.n(o),u=a(6),l=a(10),d="ADD_USER",j="LOGIN_USER",p="LOAD_USER",h="USER_LOADED",b="AUTH_ERROR",m="LOGIN_FAIL",f="LOGOUT_SUCCESS",O="ADD_USER_FAIL",_="VERIFY_USER",v="VERIFY_USER_FAIL",x="SET_ALERT",g="REMOVE_ALERT",y="LOAD_FORMS",N="FILTER_FORM",k="ADD_FORM",w="LOAD_FORM",C="FORMS_LOADED",S="FORM_LOADED",A="FORM_ADDED",D="FORM_LOADING_FAIL",E="FORM_ADDED_FAIL",M="POST_COMMENT_FAIL",L="ADD_POST_MODAL",F="REMOVE_MODAL",P=a(41),R=a.n(P).a.create({baseURL:"https://boiling-headland-01485.herokuapp.com/",validateStatus:function(e){return e<500}}),U=a(14),I=Object(U.a)({forceRefresh:!0}),T=function(){return function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:p}),n=a().auth.token,r={headers:{"Content-type":"Application/json"}},n&&(r.headers["x-auth-token"]=n),e.next=7,R.get("/auth",r);case 7:if(s=e.sent,localStorage.setItem("token",n),t({type:h,payload:s.data}),!s.data.errors&&s.data.token===n){e.next=13;break}return I.push("/login"),e.abrupt("return",t({type:b,payload:s.data.errors}));case 13:if(s.data.verified){e.next=18;break}return I.push("/verify"),e.abrupt("return",t({type:v}));case 18:return t({type:_}),e.abrupt("return",s.data);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),I.push("/login");case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,a){return e.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a,n){var r,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().auth.token,s={headers:{"Content-type":"Application/json"}},r&&(s.headers["x-auth-token"]=r),t.next=6,R.get("/user/".concat(e),s);case 6:return c=t.sent,t.abrupt("return",c.data);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},V=a(17),B=a(11),X=a(4),G=a.n(X),H=(a(70),a(1)),z=function(e){var t=e.page,a=Object(n.useState)(t),r=Object(l.a)(a,2),s=r[0],c=r[1],o=function(e){c(e.target.id)},i=function(e){console.log(e)};return Object(H.jsx)("div",{className:"header__background one-edge-shadow",children:Object(H.jsxs)("div",{className:"header__main-div container",children:[Object(H.jsx)("div",{className:"header__brand-div",children:Object(H.jsx)(V.b,{to:"/",className:"header__link header__brand text-shadow",children:"MU Student Portal"})}),Object(H.jsxs)("div",{className:"header__main-nav-div",children:[Object(H.jsx)(V.b,{to:"/",id:"header__forum",className:"header__link header__main-nav",children:Object(H.jsx)("button",{onClick:o,id:"header__forum",className:G()("",{active:"header__forum"===s}),children:Object(H.jsxs)("div",{id:"header__forum",children:[Object(H.jsx)("i",{className:"fab fa-forumbee"}),"Forum"]})})}),Object(H.jsx)(V.b,{to:"/library",name:"library",className:"header__link header__main-nav",children:Object(H.jsx)("button",{onClick:o,id:"header__library",className:G()("",{active:"header__library"===s}),children:Object(H.jsxs)("div",{id:"header__library",children:[Object(H.jsx)("i",{className:"fas fa-book-open"}),"Library"]})})}),Object(H.jsx)(V.b,{to:"/event",name:"event",className:"header__link header__main-nav",children:Object(H.jsx)("button",{onClick:o,id:"header__event",className:G()("",{active:"header__event"===s}),children:Object(H.jsxs)("div",{id:"header__event",children:[Object(H.jsx)("i",{className:"far fa-calendar-alt"}),"Event"]})})})]}),Object(H.jsxs)("div",{className:"header__sub-nav-div",children:[Object(H.jsx)("button",{children:Object(H.jsxs)(V.b,{onClick:i,name:"notification",to:"/",className:"header__link header__sub-nav",children:[Object(H.jsx)("i",{className:"far fa-bell"}),"Notification"]})}),Object(H.jsx)("button",{children:Object(H.jsxs)(V.b,{onClick:i,name:"temp",to:"/",className:"header__link header__sub-nav",children:[Object(H.jsx)("i",{className:"far fa-user"}),"Profile"]})})]})]})})},Q=(a(77),a(12)),Y=a(25),J=Object(Q.b)(null,{getUserById:q})((function(e){var t=e.form,a=e.getUserById,r=Object(n.useState)(null),s=Object(l.a)(r,2),c=s[0],o=s[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,a(t.author);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]);var d=new Date(t.date);return d=Y(d,"fullDate"),Object(H.jsx)("div",{style:{backgroundColor:t.post_color},className:"form__main-div one-edge-shadow-1",children:Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{style:c&&{backgroundColor:"".concat(c.color)},className:"form__profile-img",children:c&&c.name[0]}),Object(H.jsxs)("div",{className:"form__details",children:[Object(H.jsx)("p",{className:"form__title",children:t.title.length>50?t.title.substring(0,50)+" ...":t.title}),Object(H.jsxs)("p",{className:"form__start-date",children:[c?c.name:null," on ",d]}),Object(H.jsx)("p",{className:"form__desc",children:t.desc.length>100?t.desc.substring(0,100)+" ...":t.desc}),Object(H.jsx)("div",{className:"form__tags",children:t.tags&&t.tags.slice(0,6).map((function(e){return Object(H.jsx)("div",{className:"form__tag",style:{backgroundColor:"".concat(t.post_color.substring(0,t.post_color.length-1).concat("Solid)"))},children:e})}))})]}),Object(H.jsx)("div",{className:"form__count",children:Object(H.jsxs)("div",{className:"form__comment-count",children:[Object(H.jsxs)("div",{children:[Object(H.jsx)("i",{className:"fas fa-comment"}),t.comments.length]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("i",{className:"fas fa-thumbs-up"}),t.upvoteList.length]})]})})]})})})),W=function(e,t){return function(a){a({type:x,payload:{msg:e,type:t}}),setTimeout((function(){return a({type:g})}),5e3)}},K=Object(U.a)({forceRefresh:!0}),Z=a(90),$=a(21),ee=a(7),te=a(91),ae=a(92),ne=a(8),re=a.n(ne),se=(a(78),function(e){var t=e.alert;return t.msg?Object(H.jsx)("div",{className:"alert__main-div alert-".concat(t.type),children:Object(H.jsxs)("i",{className:"fas fa-info-circle",children:[" ",t.msg," "]})},t.id):Object(H.jsx)("div",{})});se.prototype={alert:re.a.object.isRequired};var ce=Object(Q.b)((function(e){return{alert:e.alert.alert}}))(se),oe=(a(79),Object(Q.b)((function(e){return{modal:e.modal}}),{removeModal:function(){return function(e){e({type:F})}},addForm:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a,n){var r,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:k}),r=n().auth.token,s={headers:{"Content-type":"Application/json"}},r&&(s.headers["x-auth-token"]=r),t.next=7,R.post("/post",e,s);case 7:if(!(c=t.sent).data.errors){t.next=11;break}return a({type:E}),t.abrupt("return",c.data);case 11:return a({type:A,payload:c.data}),K.push("/"),t.abrupt("return",c);case 16:t.prev=16,t.t0=t.catch(0),a({type:E});case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,a){return t.apply(this,arguments)}}()},setAlert:W})((function(e){var t=e.modal,a=e.removeModal,r=e.user,s=e.setAlert,c=e.addForm,o=Object(n.useState)({title:"",description:"",type:"general",tags:"",post_color:"var(--general)"}),d=Object(l.a)(o,2),j=d[0],p=d[1],h=function(e){p(Object(ee.a)(Object(ee.a)({},j),{},Object($.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=j.tags.split(","),a=0;a<t.length;a++)t[a]=t[a].trim();return t=t.filter((function(e){return""!==e})),n={title:j.title,desc:j.description,type:j.type,tags:t,post_color:j.post_color,author:r._id,author_color:r.color,author_name:r.name},e.next=6,c(n);case 6:(o=e.sent)&&o.errors&&s(o.errors[0].msg,"warning");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsx)("div",{children:Object(H.jsxs)(te.a,{size:"lg",contentClassName:"appPostModalContent",className:"addPostModal__modal",show:t.addPostModal,closeButton:!0,onHide:function(){a()},children:[Object(H.jsx)(te.a.Header,{style:{backgroundColor:j.post_color},closeButton:!0,className:"addPostModal__header one-edge-shadow",children:Object(H.jsxs)("p",{children:[Object(H.jsx)("i",{className:"far fa-edit"})," Ask a Question"]})}),Object(H.jsx)(ce,{}),Object(H.jsxs)("div",{className:"addPostModal__body",children:[Object(H.jsxs)("div",{children:[Object(H.jsx)("i",{className:"fas fa-heading"}),Object(H.jsx)("p",{children:" Title: "}),Object(H.jsx)("div",{className:"addPostModal__input-div",children:Object(H.jsx)("input",{className:"addPostModal__input",type:"text",name:"title",onChange:h,placeholder:"Title",value:j.title,autoComplete:"off"})})]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("i",{className:"fab fa-wpforms"}),Object(H.jsx)("p",{children:" Description: "}),Object(H.jsx)("div",{className:"addPostModal__input-div",children:Object(H.jsx)("textarea",{rows:5,className:"addPostModal__input",type:"text",name:"description",onChange:h,placeholder:"Explain your problem in great detail!",value:j.password,autoComplete:"off"})})]}),Object(H.jsxs)("div",{className:"addPostModal__formControl-div",children:[Object(H.jsx)("i",{className:"fas fa-cubes"}),Object(H.jsx)("p",{children:" Type: "}),Object(H.jsx)(ae.a.Group,{children:Object(H.jsxs)(ae.a.Control,{className:"addPostModal__formControl",as:"select",style:{backgroundColor:j.post_color},onChange:function(e){p(Object(ee.a)(Object(ee.a)({},j),{},{post_color:"var(--".concat(e.target.value,")"),type:e.target.value}))},children:[Object(H.jsx)("option",{children:"general"}),Object(H.jsx)("option",{children:"management"}),Object(H.jsx)("option",{children:"homework"}),Object(H.jsx)("option",{children:"frustration"}),Object(H.jsx)("option",{children:"casual"})]})})]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("i",{className:"fas fa-tags"}),Object(H.jsx)("p",{children:" Tags: "}),Object(H.jsx)("div",{className:"addPostModal__input-div",children:Object(H.jsx)("input",{className:"addPostModal__input",type:"text",name:"tags",onChange:h,placeholder:"Separate tags via space",value:j.tags,autoComplete:"off"})})]})]}),Object(H.jsx)("button",{onClick:b,className:"btn addPostModal__button",children:"Submit"})]})})}))),ie=(a(81),Object(Q.b)((function(e){return{auth:e.auth,modal:e.modal,form:e.form}}),{loadUser:T,loadForms:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y}),n=a().auth.token,r={headers:{"Content-type":"Application/json"}},n&&(r.headers["x-auth-token"]=n),e.next=7,R.get("/post",r);case 7:return s=e.sent,t({type:C,payload:s.data}),e.abrupt("return",s.data);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()},filterForm:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a,n){var r,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:N}),r=n().auth.token,s={headers:{"Content-type":"Application/json"}},r&&(s.headers["x-auth-token"]=r),t.next=7,R.post("/post/filter",e,s);case 7:return c=t.sent,a({type:C,payload:c.data}),t.abrupt("return",c.data);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},showAppPostModal:function(){return function(e){e({type:L})}},getfavouritePost:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y}),n=a().auth.token,r={headers:{"Content-type":"Application/json"}},n&&(r.headers["x-auth-token"]=n),e.next=7,R.get("/post/favourite",r);case 7:return s=e.sent,e.abrupt("return",s);case 11:e.prev=11,e.t0=e.catch(0),t({type:M});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},setForms:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:y}),a({type:C,payload:e})}catch(n){a({type:D})}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},searchPost:function(e,t){return function(){var a=Object(u.a)(i.a.mark((function a(n,r){var s,c,o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:y}),s=r().auth.token,c={headers:{"Content-type":"Application/json"}},s&&(c.headers["x-auth-token"]=s),a.next=7,R.post("/post/search",{filter:e,type:t},c);case 7:return o=a.sent,a.abrupt("return",o);case 11:a.prev=11,a.t0=a.catch(0),n({type:M});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},setAlert:W})((function(e){var t=e.auth,a=e.modal,r=e.form,s=e.loadUser,c=e.loadForms,o=e.filterForm,d=e.showAppPostModal,j=e.setForms,p=e.searchPost,h=e.getfavouritePost,b=e.setAlert,m=Object(n.useState)(null),f=Object(l.a)(m,2),O=f[0],_=f[1],v=Object(n.useState)(""),x=Object(l.a)(v,2),g=x[0],y=x[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return e.next=4,c();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]);var N=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={type:t.target.name},_(t.target.name),e.next=4,o(a);case 4:n=e.sent,j(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(null),e.next=3,h();case 3:t=e.sent,j(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(t.target.value),e.next=3,p(g,O);case 3:(a=e.sent)&&j(a.data),a&&0===a.data.length&&b("No such post found! Create a new question with your query","warning");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(g,O);case 2:(t=e.sent)&&j(t.data),t&&0===t.data.length&&b("No such post found! Create a new question with your query","warning");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsxs)("div",{children:[Object(H.jsx)(z,{page:"header__forum"}),Object(H.jsxs)(Z.a,{className:"home__main-div",children:[Object(H.jsxs)("div",{className:"home__tool-div box-shadow",children:[Object(H.jsx)("button",{onClick:function(){d()},className:"home__add-btn box-shadow",children:"Ask a Question"}),Object(H.jsxs)("div",{children:[Object(H.jsxs)("button",{className:"home__all-form home__button",onClick:Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(null),e.t0=j,e.next=4,o();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),children:[Object(H.jsx)("i",{className:"far fa-comments"}),"All Questions"]}),Object(H.jsxs)("button",{onClick:k,className:"home__favourite-form home__button",children:[Object(H.jsx)("i",{className:"fas fa-star"}),"Favourite"]}),a.addPostModal?Object(H.jsx)(oe,{user:t.user}):null]}),Object(H.jsxs)("div",{children:[Object(H.jsxs)("button",{name:"general",id:"home__general",className:G()("home__type-form home__button",{active:"general"===O}),onClick:N,children:[Object(H.jsx)("i",{style:{color:"var(--generalSolid)"},className:"fas fa-square"}),"General"]}),Object(H.jsxs)("button",{id:"home__management",className:G()("home__type-form home__button",{active:"management"===O}),name:"management",onClick:N,children:[Object(H.jsx)("i",{style:{color:"var(--managementSolid)"},className:"fas fa-square"}),"Management"]}),Object(H.jsxs)("button",{id:"home__homework",className:G()("home__type-form home__button",{active:"homework"===O}),name:"homework",onClick:N,children:[Object(H.jsx)("i",{style:{color:"var(--homeworkSolid)"},className:"fas fa-square"}),"Homework"]}),Object(H.jsxs)("button",{id:"home__frustration",className:G()("home__type-form home__button",{active:"frustration"===O}),name:"frustration",onClick:N,children:[Object(H.jsx)("i",{style:{color:"var(--frustrationSolid)"},className:"fas fa-square"}),"Frustration"]}),Object(H.jsxs)("button",{id:"home__casual",className:G()("home__type-form home__button",{active:"casual"===O}),name:"casual",onClick:N,children:[Object(H.jsx)("i",{style:{color:"var(--casualSolid)"},className:"fas fa-square"}),"Casual"]})]})]}),Object(H.jsxs)("div",{className:"home__form-div",children:[Object(H.jsx)(ce,{}),Object(H.jsxs)("div",{className:"home__search-div",children:[Object(H.jsx)("input",{value:g,onChange:w,className:"home__search",placeholder:"Search..."}),Object(H.jsx)("button",{onClick:C,className:"home__search-button",children:"Search"})]}),r.forms&&r.forms.map((function(e){return Object(H.jsx)(V.b,{to:"/post/".concat(e._id),className:"home__link",children:Object(H.jsx)(J,{form:e},e._id)})}))]})]})]})}))),ue=(a(82),Object(Q.b)(null,{loginUser:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.post("/auth",e);case 3:if(!(n=t.sent).data.errors){t.next=6;break}return t.abrupt("return",n.data);case 6:return localStorage.setItem("token",n.data.token),a({type:j,payload:n.data}),I.push("/"),t.abrupt("return",n);case 12:t.prev=12,t.t0=t.catch(0),a({type:m,payload:t.t0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},setAlert:W,loginFail:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:m,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.loginUser,a=e.setAlert,r=e.loginFail,s=Object(n.useState)({email:"",password:""}),c=Object(l.a)(s,2),o=c[0],d=c[1],j=function(e){d(Object(ee.a)(Object(ee.a)({},o),{},Object($.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(u.a)(i.a.mark((function e(n){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(o);case 3:(s=e.sent)&&s.errors&&(a(s.errors[0].msg,"warning"),r(s.errors[0].msg));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)("div",{className:"login__main-div",children:[Object(H.jsx)(ce,{}),Object(H.jsx)("div",{className:"login__brand",children:Object(H.jsx)("i",{className:"fas fa-hands-helping",children:Object(H.jsx)("p",{children:"MUSP"})})}),Object(H.jsx)("input",{type:"hidden",value:"something"}),Object(H.jsxs)("form",{children:[Object(H.jsx)("h3",{className:"login__title text-shadow-smooth",children:"Login"}),Object(H.jsxs)("div",{className:"login__input-div",children:[Object(H.jsx)("i",{className:"far fa-envelope"}),Object(H.jsx)("input",{className:"login__input",type:"email",name:"email",onChange:j,placeholder:"Email",value:o.email,autoComplete:"off"})]}),Object(H.jsxs)("div",{className:"login__input-div",children:[Object(H.jsx)("i",{className:"fas fa-lock"}),Object(H.jsx)("input",{className:"login__input",type:"password",name:"password",onChange:j,placeholder:"Password",value:o.password,autoComplete:"new-password"})]}),Object(H.jsx)("button",{to:"/",onClick:p,type:"submit",className:"login__button box-shadow",children:"Login"})]})]})}))),le=(a(83),Object(Q.b)(null,{addUser:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var n,r,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.post("/user",e);case 3:if(!(n=t.sent).data.errors){t.next=6;break}return t.abrupt("return",n.data);case 6:return localStorage.setItem("token",n.data.token),a({type:d,payload:n.data}),r={headers:{"Content-type":"Application/json"}},(s=localStorage.getItem("token"))&&(r.headers["x-auth-token"]=s),t.next=13,R.post("/user/verify",null,r);case 13:return(c=t.sent).data.errors&&a({type:x,payload:{msg:c.data.errors[0].msg,type:"warning"}}),I.push("/"),t.abrupt("return",n);case 19:t.prev=19,t.t0=t.catch(0),a({type:O,payload:t.t0});case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}()},setAlert:W,addUserFail:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:O,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addUser,a=e.setAlert,r=e.addUserFail,s=Object(n.useState)({name:"",email:"",password:"",password2:""}),c=Object(l.a)(s,2),o=c[0],d=c[1],j=function(e){d(Object(ee.a)(Object(ee.a)({},o),{},Object($.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(u.a)(i.a.mark((function e(n){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s={name:o.name,email:o.email,password:o.password},o.password===o.password2){e.next=7;break}r("Confirm password does not match","warning"),a("Confirm password does not match","warning"),e.next=11;break;case 7:return e.next=9,t(s);case 9:(c=e.sent)&&(r(c.errors),a(c.errors[0].msg,"warning"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)("div",{className:"register__main-div",children:[Object(H.jsx)(ce,{}),Object(H.jsx)("div",{className:"register__brand",children:Object(H.jsx)("i",{className:"fas fa-hands-helping",children:Object(H.jsx)("p",{children:"MUSP"})})}),Object(H.jsxs)("form",{onSubmit:p,children:[Object(H.jsx)("h3",{className:"register__title text-shadow-smooth",children:"Register"}),Object(H.jsxs)("div",{className:"register__input-div",children:[Object(H.jsx)("i",{className:"fas fa-user"}),Object(H.jsx)("input",{className:"register__input",type:"text",name:"name",onChange:j,placeholder:"Name",value:o.name,autoComplete:"none"})]}),Object(H.jsxs)("div",{className:"register__input-div",children:[Object(H.jsx)("i",{className:"far fa-envelope"}),Object(H.jsx)("input",{className:"register__input",type:"email",name:"email",onChange:j,placeholder:"Email",value:o.email,autoComplete:"off"})]}),Object(H.jsxs)("div",{className:"register__input-div",children:[Object(H.jsx)("i",{className:"fas fa-lock"}),Object(H.jsx)("input",{className:"register__input",type:"password",name:"password",onChange:j,placeholder:"Password",value:o.password,autoComplete:"new-password"})]}),Object(H.jsxs)("div",{className:"register__input-div",children:[Object(H.jsx)("i",{className:"fas fa-lock"}),Object(H.jsx)("input",{className:"register__input",type:"password",name:"password2",onChange:j,placeholder:"Confirm password",value:o.password2,autoComplete:"new-password"})]}),Object(H.jsx)("button",{type:"submit",className:"register__button box-shadow",children:"Register"})]})]})}))),de=(a(84),function(){var e=Object(n.useState)("login"),t=Object(l.a)(e,2),a=t[0],r=t[1],s=function(e){r(e.target.name)};return Object(H.jsxs)("div",{className:"auth__main-div",children:[Object(H.jsxs)("div",{className:"auth__background",children:[Object(H.jsx)("h1",{className:"auth__welcometext",children:"Welcome to"}),Object(H.jsx)("p",{className:"auth__brand-name text-shadow",children:"MU Student Portal"}),Object(H.jsx)("p",{className:"auth__brand-text",children:"The one place where all your queries are answered"}),Object(H.jsxs)("div",{className:"auth__routes",children:[Object(H.jsx)("button",{className:"auth__button menu-button",children:"MENU"}),Object(H.jsx)("button",{className:G()("auth__button",{active:"login"===a}),name:"login",onClick:s,children:"Login"}),Object(H.jsx)("button",{className:G()("auth__button",{active:"register"===a}),name:"register",onClick:s,children:"Register"})]})]}),Object(H.jsx)("div",{className:"auth__conditional-page",children:"login"===a?Object(H.jsx)(ue,{}):Object(H.jsx)(le,{})})]})}),je=function(){return Object(H.jsx)("div",{})},pe=(a(85),localStorage.getItem("token")),he=Object(Q.b)(null,{setAlert:W})((function(e){var t=e.setAlert,a=function(){var e=Object(u.a)(i.a.mark((function e(a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={headers:{"Content-type":"Application/json"}},pe&&(n.headers["x-auth-token"]=pe),e.next=5,R.post("/user/verify",null,n);case 5:(r=e.sent).data.errors&&t(r.data.errors[0].msg,"warning");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)("div",{children:[Object(H.jsx)(z,{page:"none"}),Object(H.jsxs)("div",{className:"verify__main-div container",children:[Object(H.jsx)("div",{className:"verify__alert-div",children:Object(H.jsx)(ce,{})}),Object(H.jsx)("h1",{className:"verify__title",children:"Email verification"}),Object(H.jsxs)("div",{className:"verify__sub-div",children:[Object(H.jsxs)("div",{className:"verify__text-div",children:[Object(H.jsx)("p",{className:"verify__sub",children:"Thank you for signing up for MU Student Portal"}),Object(H.jsx)("p",{className:"verify__sub",children:"To start using the app please verify your email by clicking on the link sent to your email."}),Object(H.jsx)("div",{className:"verify__image-div"})]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("p",{className:"verify__resend-text",children:"Click on the button below to re-send the verification email"}),Object(H.jsx)("button",{className:"verify__resend-button",onClick:a,children:"VERIFY EMAIL"})]})]})]})]})})),be=function(){return Object(H.jsxs)("div",{children:[Object(H.jsx)(z,{page:"header__event"}),Object(H.jsx)("h1",{children:"Congrats!! authorized successfully"})]})},me=function(){return Object(H.jsxs)("div",{children:[Object(H.jsx)(z,{page:"header__library"}),Object(H.jsx)("h1",{children:"Congrats!! authorized successfully"})]})},fe=(a(86),a(25)),Oe=Object(Q.b)(null,{getUserById:q})((function(e){var t=e.comment,a=e.post_color,r=e.getUserById,s=Object(n.useState)(null),c=Object(l.a)(s,2),o=c[0],d=c[1],j=Object(n.useState)(null),p=Object(l.a)(j,2),h=p[0],b=p[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,r(t.author);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),t&&!h&&b(fe(Date(t.date),"fullDate")),Object(H.jsx)("div",{style:{backgroundColor:a},className:"formComments__main-div one-edge-shadow-1",children:Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{style:o&&{backgroundColor:"".concat(o.color)},className:"formComments__profile-img",children:o&&o.name[0]}),Object(H.jsxs)("div",{className:"formComments__details",children:[Object(H.jsxs)("p",{className:"formComments__start-date",children:[Object(H.jsx)("h1",{children:o&&o.name}),Object(H.jsx)("p",{children:h})]}),Object(H.jsx)("p",{className:"formComments__desc",children:t.desc})]})]})})})),_e=(a(87),a(25)),ve=a.n(_e),xe=Object(Q.b)((function(e){return{form:e.form,auth:e.auth}}),{loadForm:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a,n){var r,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:w}),r=n().auth.token,s={headers:{"Content-type":"Application/json"}},r&&(s.headers["x-auth-token"]=r),t.next=7,R.get("/post/".concat(e),s);case 7:return c=t.sent,a({type:S,payload:c.data}),t.abrupt("return",c.data);case 12:t.prev=12,t.t0=t.catch(0),a({type:D});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},getUserById:q,loadUser:T,setAlert:W,postComment:function(e,t){return function(){var a=Object(u.a)(i.a.mark((function a(n,r){var s,c,o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"POST_COMMENT"}),s=r().auth.token,c={headers:{"Content-type":"Application/json"}},s&&(c.headers["x-auth-token"]=s),a.next=7,R.post("/post/".concat(t),e={comment:e},c);case 7:return o=a.sent,n({type:"COMMENT_ADDED",payload:o.data}),K.push("/post/".concat(t)),a.abrupt("return",o);case 13:a.prev=13,a.t0=a.catch(0),n({type:M});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,t){return a.apply(this,arguments)}}()},upvotePost:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a,n){var r,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().auth.token,s={headers:{"Content-type":"Application/json"}},r&&(s.headers["x-auth-token"]=r),t.next=6,R.post("/post/upvote",e={id:e},s);case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(0),a({type:M});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},favouritePost:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a,n){var r,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().auth.token,s={headers:{"Content-type":"Application/json"}},r&&(s.headers["x-auth-token"]=r),t.next=6,R.post("/post/favourite",e={id:e},s);case 6:return c=t.sent,t.abrupt("return",c);case 10:t.prev=10,t.t0=t.catch(0),a({type:M});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.form.form,a=e.auth.user,r=e.loadForm,s=e.getUserById,c=e.loadUser,o=e.setAlert,d=e.postComment,j=e.upvotePost,p=e.favouritePost,h=Object(B.f)().id,b=Object(n.useState)(null),m=Object(l.a)(b,2),f=m[0],O=m[1],_=Object(n.useState)(null),v=Object(l.a)(_,2),x=v[0],g=v[1],y=Object(n.useState)(null),N=Object(l.a)(y,2),k=N[0],w=N[1],C=Object(n.useState)(null),S=Object(l.a)(C,2),A=S[0],D=S[1],E=Object(n.useState)(null),M=Object(l.a)(E,2),L=M[0],F=M[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(h);case 2:if(a){e.next=5;break}return e.next=5,c();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),t&&!f&&function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O,e.next=3,s(t.author);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),t&&!x&&g(ve()(Date(t.date),"fullDate"));var P=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=D,e.next=3,t.upvoteList.includes(a._id);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=F,e.next=8,t.favouriteList.includes(a._id);case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a&&t&&null===A&&P();return f&&a&&Object(H.jsxs)("div",{className:"formDetail__main-div",children:[Object(H.jsx)(z,{page:"header__forum"}),Object(H.jsxs)("div",{style:{backgroundColor:"".concat(t.post_color.substring(0,t.post_color.length-1).concat("Solid)"))},className:"formDetail__top-type-bar",children:[Object(H.jsx)("p",{children:t.title}),Object(H.jsx)("div",{children:t.tags&&t.tags.map((function(e){return Object(H.jsx)("div",{style:{color:"".concat(t.post_color.substring(0,t.post_color.length-1).concat("Solid)"))},className:"formDetail__tag",children:e})}))})]}),Object(H.jsxs)("div",{className:"container",children:[Object(H.jsxs)("div",{className:"formDetail__quetion-div",children:[Object(H.jsx)("div",{style:{backgroundColor:"".concat(f.color)},className:"formDetail__profile-img",children:Object(H.jsx)("p",{children:f.name[0]})}),Object(H.jsxs)("div",{children:[Object(H.jsxs)("p",{className:"formDetail__start-date",children:[Object(H.jsx)("h1",{children:f?f.name:null}),Object(H.jsx)("p",{children:x})]}),Object(H.jsx)("p",{className:"formDetail__desc",children:t.desc})]})]}),Object(H.jsxs)("div",{style:{display:"flex"},children:[Object(H.jsxs)("div",{onClick:function(){D(!A),j(h)},className:G()("formDetail__upvote-div",{upvoted:A}),children:["Like","  ",Object(H.jsx)("i",{className:G()("fa-thumbs-up",{far:!A,fas:A})})]}),Object(H.jsxs)("div",{onClick:function(){console.log("temp"),F(!L),p(h)},className:G()("formDetail__favourite-div",{favourite:L}),children:["Favourite","  ",Object(H.jsx)("i",{className:G()("fa-star",{far:!L,fas:L})})]})]}),Object(H.jsx)("hr",{}),Object(H.jsx)(ce,{}),Object(H.jsxs)("div",{className:"formDetail__comment-div",children:[Object(H.jsx)("div",{style:{backgroundColor:"".concat(a.color)},className:"formDetail__profile-img",children:Object(H.jsx)("p",{children:a.name[0]})}),Object(H.jsxs)("div",{className:"formDetail__comment",children:[Object(H.jsx)("textarea",{value:k,onChange:function(e){return w(e.target.value)},className:"formDetail__comment-box",rows:10,name:"text",placeholder:"Write a comment"}),Object(H.jsx)("button",{onClick:function(){if(!k)return o("Enter Something!","warning");var e={author:a._id,desc:k,date:new Date};d(e,h)},style:{backgroundColor:"".concat(t.post_color.substring(0,t.post_color.length-1).concat("Solid)"))},children:"Submit"})]})]}),Object(H.jsxs)("div",{className:"formDetail__all-comments-div",children:[Object(H.jsx)("h1",{children:"Comments"}),t.comments.slice(0).reverse().map((function(e){return Object(H.jsx)(Oe,{comment:e,post_color:t.post_color})}))]})]})]})}));var ge=Object(Q.b)((function(e){return{auth:e.auth}}),{checkAuth:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a().auth.token){e.next=6;break}return e.abrupt("return","auth");case 6:return r={headers:{"Content-type":"Application/json"}},n&&(r.headers["x-auth-token"]=n),e.next=10,R.get("/auth",r);case 10:if(!(s=e.sent).data.errors&&s.data.token===n){e.next=13;break}return e.abrupt("return","auth");case 13:if(s.data.verified){e.next=17;break}return e.abrupt("return","verify");case 17:return e.abrupt("return","clear");case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return","auth");case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,a){return e.apply(this,arguments)}}()}})((function(e){e.auth;var t=e.checkAuth,a=Object(n.useState)(null),r=Object(l.a)(a,2),s=r[0],c=r[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,t();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),s&&Object(H.jsx)(n.Fragment,{children:Object(H.jsxs)(V.a,{children:["auth"===s&&Object(H.jsx)(B.c,{children:Object(H.jsx)(B.a,{path:"/*",component:de})}),"verify"===s&&Object(H.jsxs)(B.c,{children:[Object(H.jsx)(B.a,{exact:!0,path:"/login",component:de}),Object(H.jsx)(B.a,{exact:!0,path:"/*",component:he})]}),"clear"===s&&Object(H.jsxs)(B.c,{children:[Object(H.jsx)(B.a,{exact:!0,path:"/",component:ie}),Object(H.jsx)(B.a,{exact:!0,path:"/library",component:me}),Object(H.jsx)(B.a,{exact:!0,path:"/event",component:be}),Object(H.jsx)(B.a,{exact:!0,path:"/about",component:je}),Object(H.jsx)(B.a,{exact:!0,path:"/login",component:de}),Object(H.jsx)(B.a,{exact:!0,path:"/verify",component:he}),Object(H.jsx)(B.a,{path:"/post/:id",component:xe})]})]})})})),ye=a(20),Ne=a(43),ke={user:null,token:localStorage.getItem("token"),isAuthenticated:!1,isLoading:!1,isVerified:!1},we={alert:{}},Ce={form:null,forms:null,isLoading:!1},Se={addPostModal:!1},Ae=Object(ye.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(ee.a)(Object(ee.a)({},e),{},{isAuthenticated:!1,isLoading:!0});case h:return Object(ee.a)(Object(ee.a)({},e),{},{token:localStorage.getItem("token"),isLoading:!1,isAuthenticated:!0,user:t.payload});case d:case j:return Object(ee.a)(Object(ee.a)({},e),{},{user:t.payload.user,token:localStorage.getItem("token"),isAuthenticated:!0,isLoading:!1});case _:return Object(ee.a)(Object(ee.a)({},e),{},{isVerified:!0});case v:return Object(ee.a)(Object(ee.a)({},e),{},{isVerified:!1});case b:case m:case f:case O:return localStorage.removeItem("token"),Object(ee.a)(Object(ee.a)({},e),{},{token:null,user:null,isAuthenticated:null,isLoading:null});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(ee.a)(Object(ee.a)({},e),{},{alert:t.payload});case g:return Object(ee.a)(Object(ee.a)({},e),{},{alert:{}});default:return e}},form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case N:case w:return Object(ee.a)(Object(ee.a)({},e),{},{forms:null,form:null,isLoading:!0});case C:return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:!1,form:null,forms:t.payload});case S:return Object(ee.a)(Object(ee.a)({},e),{},{form:t.payload});case k:case A:return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:!1});case E:case D:return Object(ee.a)(Object(ee.a)({},e),{},{form:null,isLoading:!1});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(ee.a)(Object(ee.a)({},e),{},{addPostModal:!0});case F:return Object(ee.a)(Object(ee.a)({},e),{},{addPostModal:!1});default:return e}}}),De={},Ee=[Ne.a],Me=Object(ye.d)(Ae,De,Object(ye.c)(ye.a.apply(void 0,Ee)));window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()&&(Me=Object(ye.d)(Ae,De,Object(ye.c)(ye.a.apply(void 0,Ee),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())));var Le=Me;var Fe=function(){return Object(H.jsx)(Q.a,{store:Le,children:Object(H.jsx)(n.Fragment,{children:Object(H.jsx)(ge,{})})})};c.a.render(Object(H.jsx)(r.a.StrictMode,{children:Object(H.jsx)(Fe,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.abb2a73a.chunk.js.map